<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cybersecurity Awareness Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6fb;
      margin: 0;
    }

    header {
      background: #1a73e8;
      padding: 15px 20px;
      text-align: center;
      color: white;
    }

    header h1 {
      margin: 0;
      font-size: 24px;
      font-family: 'Poppins', sans-serif;
    }

    nav {
      margin-top: 10px;
    }

    .main-nav {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    .main-nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      padding: 8px 12px;
      transition: background 0.3s;
    }

    .main-nav a:hover {
      background: #0d47a1;
      border-radius: 5px;
    }

    .container {
      max-width: 800px;
      margin: 20px auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
    }

    .welcome {
      background: #e8f1fe;
      border: 1px solid #cfe2ff;
      color: #1a3a77;
      padding: 10px 12px;
      border-radius: 8px;
      margin-bottom: 16px;
      font-weight: 600;
    }

    .question {
      margin: 15px 0;
      padding: 15px;
      background: #f9f9ff;
      border-radius: 6px;
    }

    /* New: match score.html button style */
    .feedback-btn {
      display: block;
      margin: 30px auto 10px;
      background: #1a73e8;
      /* same as var(--brand) in score.html */
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
      text-decoration: none;
      text-align: center;
      width: fit-content;
    }

    .feedback-btn:hover {
      background: #0c5ac0;
    }
  </style>
</head>

<body>
  <header>
    <h1>CyberSafe Campus</h1>
    <nav>
      <ul class="main-nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="training.html">Training</a></li>
        <li><a href="consent.html" id="quizLink">Quiz</a></li>
      </ul>
    </nav>
  </header>

  <div class="container">
    <div id="welcome" class="welcome" style="display:none;"></div>

    <h2>Cybersecurity Awareness Quiz</h2>
    <form id="quizForm">

      <div class="question">
        <p>1. What is the safest way to create a password?</p>
        <label><input type="radio" name="q1" value="Short easy word"> Short easy word</label><br>
        <label><input type="radio" name="q1" value="Date of birth"> Date of birth</label><br>
        <label><input type="radio" name="q1" value="Random mix of letters, numbers & symbols"> Random mix of letters,
          numbers & symbols</label><br>
        <label><input type="radio" name="q1" value="Your name"> Your name</label>
      </div>

      <div class="question">
        <p>2. Which of these is a sign of a phishing email?</p>
        <label><input type="radio" name="q2" value="Strange sender address"> Strange sender address</label><br>
        <label><input type="radio" name="q2" value="Urgent request for personal info"> Urgent request for personal
          info</label><br>
        <label><input type="radio" name="q2" value="Spelling mistakes"> Spelling mistakes</label><br>
        <label><input type="radio" name="q2" value="All of the above"> All of the above</label>
      </div>

      <div class="question">
        <p>3. Which network is safest to use?</p>
        <label><input type="radio" name="q3" value="Public Wi-Fi without password"> Public Wi-Fi without
          password</label><br>
        <label><input type="radio" name="q3" value="Any open hotspot"> Any open hotspot</label><br>
        <label><input type="radio" name="q3" value="Home Wi-Fi with WPA2 encryption"> Home Wi-Fi with WPA2
          encryption</label><br>
        <label><input type="radio" name="q3" value="Free café Wi-Fi"> Free café Wi-Fi</label>
      </div>

      <div class="question">
        <p>4. What should you do if you get a suspicious email link?</p>
        <label><input type="radio" name="q4" value="Click quickly"> Click quickly</label><br>
        <label><input type="radio" name="q4" value="Ignore or delete"> Ignore or delete</label><br>
        <label><input type="radio" name="q4" value="Forward to friends"> Forward to friends</label><br>
        <label><input type="radio" name="q4" value="Reply to sender"> Reply to sender</label>
      </div>

      <div class="question">
        <p>5. Why is software updating important?</p>
        <label><input type="radio" name="q5" value="Makes computer faster"> Makes computer faster</label><br>
        <label><input type="radio" name="q5" value="Fixes bugs & improves security"> Fixes bugs & improves
          security</label><br>
        <label><input type="radio" name="q5" value="Looks better"> Looks better</label><br>
        <label><input type="radio" name="q5" value="Not important"> Not important</label>
      </div>

      <div class="question">
        <p>6. Which one is NOT a good password practice?</p>
        <label><input type="radio" name="q6" value="Use same password everywhere"> Use same password
          everywhere</label><br>
        <label><input type="radio" name="q6" value="Change regularly"> Change regularly</label><br>
        <label><input type="radio" name="q6" value="Use symbols"> Use symbols</label><br>
        <label><input type="radio" name="q6" value="Use 2FA"> Use 2FA</label>
      </div>

      <div class="question">
        <p>7. What is Two-Factor Authentication (2FA)?</p>
        <label><input type="radio" name="q7" value="Using two passwords"> Using two passwords</label><br>
        <label><input type="radio" name="q7" value="Password + Extra verification"> Password + Extra
          verification</label><br>
        <label><input type="radio" name="q7" value="Two usernames"> Two usernames</label><br>
        <label><input type="radio" name="q7" value="Unnecessary step"> Unnecessary step</label>
      </div>

      <div class="question">
        <p>8. Which file attachment is most suspicious?</p>
        <label><input type="radio" name="q8" value="Resume.pdf"> Resume.pdf</label><br>
        <label><input type="radio" name="q8" value="Invoice.exe"> Invoice.exe</label><br>
        <label><input type="radio" name="q8" value="Report.docx"> Report.docx</label><br>
        <label><input type="radio" name="q8" value="Image.jpg"> Image.jpg</label>
      </div>

      <div class="question">
        <p>9. What should you do before installing an app?</p>
        <label><input type="radio" name="q9" value="Check reviews & source"> Check reviews & source</label><br>
        <label><input type="radio" name="q9" value="Install any quickly"> Install any quickly</label><br>
        <label><input type="radio" name="q9" value="Ask a stranger"> Ask a stranger</label><br>
        <label><input type="radio" name="q9" value="Ignore permissions"> Ignore permissions</label>
      </div>

      <div class="question">
        <p>10. How can you secure your phone?</p>
        <label><input type="radio" name="q10" value="No lock screen"> No lock screen</label><br>
        <label><input type="radio" name="q10" value="Use PIN or biometrics"> Use PIN or biometrics</label><br>
        <label><input type="radio" name="q10" value="Always unlocked"> Always unlocked</label><br>
        <label><input type="radio" name="q10" value="Keep in pocket"> Keep in pocket</label>
      </div>

      <div class="question">
        <p>11. What to do if an unknown caller asks personal info?</p>
        <label><input type="radio" name="q11" value="Give info"> Give info</label><br>
        <label><input type="radio" name="q11" value="Verify first"> Verify first</label><br>
        <label><input type="radio" name="q11" value="Ignore safety"> Ignore safety</label><br>
        <label><input type="radio" name="q11" value="Tell password"> Tell password</label>
      </div>

      <div class="question">
        <p>12. Best way to learn cybersecurity?</p>
        <label><input type="radio" name="q12" value="Interactive games"> Interactive games</label><br>
        <label><input type="radio" name="q12" value="Ignoring threats"> Ignoring threats</label><br>
        <label><input type="radio" name="q12" value="Reading spam"> Reading spam</label><br>
        <label><input type="radio" name="q12" value="Asking strangers"> Asking strangers</label>
      </div>

      <div class="question">
        <p>13. How often should you backup important files?</p>
        <label><input type="radio" name="q13" value="Never"> Never</label><br>
        <label><input type="radio" name="q13" value="Once a year"> Once a year</label><br>
        <label><input type="radio" name="q13" value="Regularly"> Regularly</label><br>
        <label><input type="radio" name="q13" value="Only if virus comes"> Only if virus comes</label>
      </div>

      <div class="question">
        <p>14. What motivates most people to learn cybersecurity?</p>
        <label><input type="radio" name="q14" value="Personal experience"> Personal experience</label><br>
        <label><input type="radio" name="q14" value="Peer pressure"> Peer pressure</label><br>
        <label><input type="radio" name="q14" value="No motivation"> No motivation</label><br>
        <label><input type="radio" name="q14" value="Entertainment"> Entertainment</label>
      </div>

      <div class="question">
        <p>15. Should you report suspicious cyber activities?</p>
        <label><input type="radio" name="q15" value="Yes"> Yes</label><br>
        <label><input type="radio" name="q15" value="No"> No</label><br>
        <label><input type="radio" name="q15" value="Maybe"> Maybe</label><br>
        <label><input type="radio" name="q15" value="Ignore"> Ignore</label>
      </div>

      <!-- Updated: apply the same button style -->
      <button type="submit" class="feedback-btn">Submit Quiz</button>
    </form>
  </div>

  <script>
    // Read from URL first, then fall back to participantSession (created by register page)
    const params = new URLSearchParams(window.location.search);
    let username = params.get("username");
    let age = params.get("age");
    let email = params.get("email");

    if (!username || !age) {
      try {
        const raw = localStorage.getItem('participantSession');
        if (raw) {
          const s = JSON.parse(raw);
          username = username || s?.name || '';
          age = age || s?.age || '';
          email = email || s?.email || '';
        }
      } catch (_) { }
    }

    // Guard: need at least name + age (email is optional)
    if (!username || !age) {
      window.location.replace("register.html");
    } else {
      // Show welcome (include email if present)
      const welcome = document.getElementById("welcome");
      const emailText = email ? ` • Email: ${email}` : "";
      welcome.textContent = `Welcome, ${username} (Age: ${age}${emailText})`;
      welcome.style.display = "block";
    }

    // On submit, forward answers + identity to score.html
    document.getElementById("quizForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const formData = new FormData(this);
      const answers = new URLSearchParams(formData);
      answers.append("username", username);
      answers.append("age", age);
      if (email) answers.append("email", email);
      window.location.href = "score.html?" + answers.toString();
    });
  </script>
</body>

</html>